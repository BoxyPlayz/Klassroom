name: Lint Server

on:
        push:
                branches: ['main']
        workflow_dispatch:

permissions:
        contents: read
        pages: write
        id-token: write

jobs:
        Lint:
                runs-on: ubuntu-latest
                defaults:
                        run:
                                working-directory: ./server
                steps:
                        - name: Checkout
                          uses: actions/checkout@v6

                        - name: Install pnpm
                          uses: pnpm/action-setup@v4
                        - name: Set up Node js
                          uses: actions/setup-node@v6
                          with:
                                  node-version: 20
                        - name: 'Install dependencies'
                          run: 'pnpm install --no-frozen-lockfile'
                        - name: 'Lint Code'
                          run: 'pnpm lint'
